---
up:
  - "[[Spring6 課程描述]]"
  - "[[基于XML管理Bean]]"
---
# List 集合

## 1. 在 Clazz 类中加入如下代码

```java
private List<Student> students;

public List<Student> getStudents() {
    return students;
}

public void setStudents(List<Student> students) {
    this.students = students;
}
```

## 2. 配置 bean

```xml
<bean id="clazzTwo" class="com.codermast.spring6.iocxml.bean.Clazz">
    <property name="clazzId" value="4444"/>
    <property name="clazzName" value="Javaee0222"/>
    <property name="students">
        <list>
            <ref bean="studentOne"/>
            <ref bean="studentTwo"/>
            <ref bean="studentFour"/>
            <ref bean="studentFive"/>
        </list>
    </property>
</bean>
```

> [!NOTE]
> 
> 若为 Set 集合类型属性赋值，只需要将其中的 list 标签改为set标签即可。

---

# Map 集合

## 1. 创建 Teacher 类

```java
public class Teacher {

    private Integer teacherId;

    private String teacherName;

    public Integer getTeacherId() {
        return teacherId;
    }

    public void setTeacherId(Integer teacherId) {
        this.teacherId = teacherId;
    }

    public String getTeacherName() {
        return teacherName;
    }

    public void setTeacherName(String teacherName) {
        this.teacherName = teacherName;
    }

    public Teacher(Integer teacherId, String teacherName) {
        this.teacherId = teacherId;
        this.teacherName = teacherName;
    }

    public Teacher() {

    }
    
    @Override
    public String toString() {
        return "Teacher{" +
                "teacherId=" + teacherId +
                ", teacherName='" + teacherName + '\'' +
                '}';
    }
}
```

## 2. 在 Student 类中加入如下代码

```java
private Map<String, Teacher> teacherMap;

public Map<String, Teacher> getTeacherMap() {
    return teacherMap;
}

public void setTeacherMap(Map<String, Teacher> teacherMap) {
    this.teacherMap = teacherMap;
}
```

## 3. 配置bean

```xml
<!-- Map 集合配置-->
<bean id="teacherOne" class="com.codermast.spring6.iocxml.bean.Teacher">
    <property name="teacherId" value="10010"/>
    <property name="teacherName" value="大宝"/>
</bean>

<bean id="teacherTwo" class="com.codermast.spring6.iocxml.bean.Teacher">
    <property name="teacherId" value="10086"/>
    <property name="teacherName" value="二宝"/>
</bean>

<bean id="studentFour" class="com.codermast.spring6.iocxml.bean.Student">
    <property name="id" value="1004"/>
    <property name="name" value="赵六"/>
    <property name="age" value="26"/>
    <property name="sex" value="女"/>
    <!-- ref属性：引用IOC容器中某个bean的id，将所对应的bean为属性赋值 -->
    <property name="clazz" ref="clazzOne"/>
    <property name="hobbies">
        <array>
            <value>抽烟</value>
            <value>喝酒</value>
            <value>烫头</value>
        </array>
    </property>
    <property name="teacherMap">
        <map>
            <entry value-ref="teacherOne">
                <key>
                    <value>10010</value>
                </key>
            </entry>
            <entry value-ref="teacherTwo">
                <key>
                    <value>10086</value>
                </key>
            </entry>
        </map>
    </property>
</bean>
```

---

# 引用集合类型

```xml
<!--list集合类型的bean-->
<util:list id="students">
    <ref bean="studentOne"/>
    <ref bean="studentTwo"/>
    <ref bean="studentFour"/>
</util:list>

<!--map集合类型的bean-->
<util:map id="teacherMap">
    <entry>
        <key>
            <value>10010</value>
        </key>
        <ref bean="teacherOne"/>
    </entry>
    <entry>
        <key>
            <value>10086</value>
        </key>
        <ref bean="teacherTwo"/>
    </entry>
</util:map>

<bean id="clazzTwo" class="com.codermast.spring6.iocxml.bean.Clazz">
    <property name="clazzId" value="4444"/>
    <property name="clazzName" value="Javaee0222"/>
    <property name="students" ref="students"/>
</bean>

<bean id="studentFour" class="com.codermast.spring6.iocxml.bean.Student">
    <property name="id" value="1004"/>
    <property name="name" value="赵六"/>
    <property name="age" value="26"/>
    <property name="sex" value="女"/>
    <!-- ref属性：引用IOC容器中某个bean的id，将所对应的bean为属性赋值 -->
    <property name="clazz" ref="clazzOne"/>
    <property name="hobbies">
        <array>
            <value>抽烟</value>
            <value>喝酒</value>
            <value>烫头</value>
        </array>
    </property>
    <property name="teacherMap" ref="teacherMap"/>
</bean>
```

使用 util:list、util:map 标签必须引入相应的命名空间

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/util
    http://www.springframework.org/schema/util/spring-util.xsd
    http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd">
```