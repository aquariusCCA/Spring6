---
up:
  - "[[Spring6 課程描述]]"
---
> 既然事务控制的代码有规律可循，代码的结构基本是确定的，所以框架就可以将固定模式的代码抽取出来，进行相关的封装。

封装起来后，我们只需要在配置文件中进行简单的配置即可完成操作。

```java
public interface UserService {
    void updateUser(User user);
}

@Service
@Transactional
public class UserServiceImpl implements UserService {
    @Autowired
    private UserDao userDao;

    @Override
    public void updateUser(User user) {
        userDao.update(user);
    }
}
```

> [!NOTE] 說明
> 
> 在这个例子中，@Transactional 注解被用于服务实现类的类级别上。这意味着，当调用 updateUser 方法时，Spring 将会创建一个事务，方法执行结束时，事务将被提交或回滚（如果出现异常）这样，在调用 updateUser 方法时，我们无需显式地开启和提交事务，Spring 框架将会自动处理事务的提交和回滚

- 好处1：提高开发效率
- 好处2：消除了冗余的代码
- 好处3：框架会综合考虑相关领域中在实际开发环境下有可能遇到的各种问题，进行了健壮性、性能等各个方面的优化

> [!NOTE] 所以，我们可以总结下面两个概念：
> 
> - **编程式**：**自己写代码**实现功能
> - **声明式**：通过 **配置**让**框架**实现功能